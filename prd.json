{
  "project": "Skill Chatbot MVP",
  "branchName": "feature/backend-fastapi",
  "description": "对齐 PRD（API/前端/验证）并通过脚本化流程推进",
  "userStories": [
    {
      "id": "US-001",
      "title": "对齐 PRD 的核心 API 路由与别名",
      "description": "作为开发者，我需要让 API 路由与 PRD 对齐，便于前端与验收一致。",
      "acceptanceCriteria": [
        "新增 /api/v1/me GET 与 PATCH（与 /users/me 行为一致）",
        "新增 /api/v1/me/memory GET 与 PATCH（对齐 memory 读写）",
        "新增 /api/v1/chat/sessions /chat/sessions/:id /chat/sessions/:id/messages（映射到现有 /chats）",
        "新增 /api/v1/skill-suggestions（映射到会话 suggestion 逻辑）",
        "使用 cURL 验证所有别名路由能正常工作"
      ],
      "priority": 1,
      "passes": false,
      "notes": "保持 /api/v1 前缀不变。"
    },
    {
      "id": "US-002",
      "title": "技能市场列表/详情与筛选对齐",
      "description": "作为用户，我需要在市场中浏览与筛选官方技能。",
      "acceptanceCriteria": [
        "新增 /api/v1/market/skills 列表接口（支持 q/tags/sort/limit/offset）",
        "新增 /api/v1/market/skills/:id 详情接口（含评分/收藏/评论统计）",
        "列表与详情字段覆盖 name/description/tags/visibility/updated",
        "使用 cURL 验证列表与详情返回符合预期"
      ],
      "priority": 2,
      "passes": false,
      "notes": "暂用 Skill 作为市场实体，后续可扩展 SkillMarketEntry。"
    },
    {
      "id": "US-003",
      "title": "搜索技能接口对齐",
      "description": "作为用户，我需要在搜索中用关键词查找技能。",
      "acceptanceCriteria": [
        "新增 /api/v1/search/skills?q=... 关键词搜索接口",
        "搜索范围覆盖 name/description/tags/versions content",
        "支持 limit/offset",
        "使用 cURL 验证搜索结果"
      ],
      "priority": 3,
      "passes": false,
      "notes": "向量检索后续接入，先关键词匹配。"
    },
    {
      "id": "US-004",
      "title": "评论回复/点赞与举报阈值",
      "description": "作为用户，我需要评论互动与举报机制。",
      "acceptanceCriteria": [
        "新增评论回复与点赞接口（/api/v1/comments/:id/replies, /api/v1/comments/:id/like）",
        "新增 /api/v1/reports 接口支持去重用户计数，达到阈值自动下架技能",
        "技能下架后列表默认不展示",
        "使用 cURL 验证举报阈值行为"
      ],
      "priority": 4,
      "passes": false,
      "notes": "阈值默认 3。"
    },
    {
      "id": "US-005",
      "title": "版本树与文本 diff",
      "description": "作为用户，我需要看到技能版本树与文本差异。",
      "acceptanceCriteria": [
        "新增版本 diff 接口（/api/v1/skills/:id/versions/diff?from=&to=）",
        "保持版本树接口可用",
        "diff 返回 unified 或 split 文本格式",
        "使用 cURL 验证 diff 输出"
      ],
      "priority": 5,
      "passes": false,
      "notes": "后续可切换到更强 diff 引擎。"
    },
    {
      "id": "US-006",
      "title": "前端页面对齐 PRD（市场/技能库/详情/设置）",
      "description": "作为用户，我需要与 PRD 一致的前端入口与基础结构。",
      "acceptanceCriteria": [
        "市场页/技能库/详情/设置页面补充 PRD 对齐的信息结构",
        "新增技能编辑入口（SKILL.md 直接编辑 + AI 协助占位）",
        "使用 Chrome MCP 验证页面布局与交互"
      ],
      "priority": 6,
      "passes": false,
      "notes": "组件优先使用 shadcn/ui。"
    }
  ] 
}
